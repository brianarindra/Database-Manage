# PgBouncer Configuration - Generated by Ansible

[databases]
{% for db in pgbouncer_databases %}
{{ db.name }} = host={{ db.host }} port={{ db.port }} auth_user={{ db.auth_user | default('postgres') }}
{% endfor %}

[pgbouncer]
listen_addr = {{ pgbouncer_listen_addr | default('0.0.0.0') }}
listen_port = {{ pgbouncer_listen_port | default(6432) }}
auth_type = {{ pgbouncer_auth_type | default('md5') }}
auth_file = /etc/pgbouncer/userlist.txt
pool_mode = {{ pgbouncer_pool_mode | default('session') }}
max_client_conn = {{ pgbouncer_max_client_conn | default(100) }}
default_pool_size = {{ pgbouncer_default_pool_size | default(50) }}
log_connections = 1
log_disconnections = 1
